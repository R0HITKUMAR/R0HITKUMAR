(self.AMP=self.AMP||[]).push({n:"amp-sidebar",v:"2101152047000",f:(function(AMP,_){
'use strict';var h,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function ba(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object");})()}ba(this);"function"===typeof Symbol&&Symbol("x");var m;
if("function"==typeof Object.setPrototypeOf)m=Object.setPrototypeOf;else{var n;a:{var ca={a:!0},p={};try{p.__proto__=ca;n=p.a;break a}catch(a){}n=!1}m=n?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var q=m;
function r(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(q)q(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Ya=b.prototype};function t(a){return a?Array.prototype.slice.call(a):[]};var u=self.AMP_CONFIG||{},da=("string"==typeof u.cdnProxyRegex?new RegExp(u.cdnProxyRegex):u.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function v(a){if(self.document&&self.document.head&&(!self.location||!da.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}u.cdnUrl||v("runtime-host");u.geoApiUrl||v("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var w=self.__AMP_LOG;function x(){if(!w.user)throw Error("failed to call initLogConstructor");return w.user};function z(){this.m=null}h=z.prototype;h.add=function(a){var b=this;this.m||(this.m=[]);this.m.push(a);return function(){b.remove(a)}};h.remove=function(a){this.m&&(a=this.m.indexOf(a),-1<a&&this.m.splice(a,1))};h.removeAll=function(){this.m&&(this.m.length=0)};h.fire=function(a){if(this.m)for(var b=this.m,c=0;c<b.length;c++)(0,b[c])(a)};h.getHandlerCount=function(){return this.m?this.m.length:0};function A(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return B(a,b)}function C(a,b){var c=D(a);c=ea(c);return B(c,b)}function fa(a,b){a=D(a);a=ea(a);return ha(a,b)?B(a,b):null}function D(a){return a.nodeType?A((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function ea(a){a=D(a);return a.isSingleDoc()?a.win:a}function B(a,b){ha(a,b);var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}
function ha(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor&&!a.obj)};var ia;/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var E;function ja(a){return":not([toolbar]) [autoscroll]".replace(/^|,/g,"$&"+a+" ")};function ka(a){if(void 0===a.isConnected){do if(a=la(a),a.host)a=a.host;else break;while(1)}}function la(a){if(Node.prototype.getRootNode)return a.getRootNode()||a;for(;a.parentNode&&(!a||"I-AMPHTML-SHADOW-ROOT"!=a.tagName&&(11!=a.nodeType||"[object ShadowRoot]"!==Object.prototype.toString.call(a)));a=a.parentNode);return a}function na(a,b){for(;a&&void 0!==a;a=a.parentElement)if(b(a))return a;return null}
function F(a,b){return a.closest?a.closest(b):na(a,function(c){var d=c.matches||c.webkitMatchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector;return d?d.call(c,b):!1})}function oa(a){return"rtl"==(a.body.getAttribute("dir")||a.documentElement.getAttribute("dir")||"ltr")};function G(a,b){var c=this;this.Ha=B(a,"timer");this.Na=b;this.La=0;this.U=-1;this.ia=0;this.oa=!1;this.Ka=function(){c.ba()}}G.prototype.isPending=function(){return-1!=this.U};G.prototype.schedule=function(a){var b=a||this.La;this.oa&&10>b&&(b=10);var c=Date.now()+b;return!this.isPending()||-10>c-this.ia?(this.cancel(),this.ia=c,this.U=this.Ha.delay(this.Ka,b),!0):!1};G.prototype.ba=function(){this.U=-1;this.ia=0;this.oa=!0;this.Na();this.oa=!1};
G.prototype.cancel=function(){this.isPending()&&(this.Ha.cancel(this.U),this.U=-1)};function pa(a,b){for(var c=0;c<a.length;c++)if(b(a[c],c,a))return c;return-1};var H;function qa(a){if(void 0!==H)return H;H=!1;try{var b={get passive(){H=!0;return!1}};a.addEventListener("test-options",null,b);a.removeEventListener("test-options",null,b)}catch(c){}return H};function ra(a,b,c,d){this.type=a;this.data=b;this.time=c;this.event=d}
function sa(a,b,c){this.A=a;this.h=[];this.M=[];this.o=[];this.j=[];this.l=null;this.Ua=b;this.Va=c;this.da=!1;this.ba=new G(a.ownerDocument.defaultView,this.Ba.bind(this));this.Fa=new z;this.T=Object.create(null);this.ya=this.Sa.bind(this);this.wa=this.Qa.bind(this);this.xa=this.Ra.bind(this);this.va=this.Pa.bind(this);var d=qa(a.ownerDocument.defaultView);this.A.addEventListener("touchstart",this.ya,d?{passive:!0}:!1);this.A.addEventListener("touchend",this.wa);this.A.addEventListener("touchmove",
this.xa,d?{passive:!0}:!1);this.A.addEventListener("touchcancel",this.va);this.ka=!1}function ta(a){var b=!0,c=!0;b=void 0===b?!1:b;c=void 0===c?!1:c;var d=b,e=c,f=a.__AMP_Gestures;f||(f=new sa(a,d,e),a.__AMP_Gestures=f);return f}h=sa.prototype;h.cleanup=function(){this.A.removeEventListener("touchstart",this.ya);this.A.removeEventListener("touchend",this.wa);this.A.removeEventListener("touchmove",this.xa);this.A.removeEventListener("touchcancel",this.va);delete this.A.__AMP_Gestures;this.ba.cancel()};
h.onGesture=function(a,b){var c=new a(this),d=c.getType(),e=this.T[d];e||(this.h.push(c),e=new z,this.T[d]=e);return e.add(b)};h.removeGesture=function(a){var b=(new a(this)).getType();if(a=this.T[b]){a.removeAll();a=pa(this.h,function(c){return c.getType()==b});if(0>a)return!1;this.h.splice(a,1);this.o.splice(a,1);this.j.splice(a,1);this.M.splice(a,1);delete this.T[b];return!0}return!1};h.onPointerDown=function(a){return this.Fa.add(a)};
h.Sa=function(a){var b=Date.now();this.da=!1;this.Fa.fire(a);for(var c=0;c<this.h.length;c++)if(!this.o[c]&&(this.j[c]&&this.j[c]<b&&I(this,c),this.h[c].onTouchStart(a))){var d=c;this.M[d]=!0;this.j[d]=0}J(this,a)};h.Ra=function(a){for(var b=Date.now(),c=0;c<this.h.length;c++)this.M[c]&&(this.j[c]&&this.j[c]<b?I(this,c):this.h[c].onTouchMove(a)||I(this,c));J(this,a)};
h.Qa=function(a){for(var b=Date.now(),c=0;c<this.h.length;c++)if(this.M[c])if(this.j[c]&&this.j[c]<b)I(this,c);else{this.h[c].onTouchEnd(a);var d=!this.j[c],e=this.j[c]<b;this.l!=this.h[c]&&(d||e)&&I(this,c)}J(this,a)};h.Pa=function(a){for(var b=0;b<this.h.length;b++){var c=b;this.o[c]=0;I(this,c)}J(this,a)};
function J(a,b){var c=!!a.l||a.da;a.da=!1;if(!c)for(var d=Date.now(),e=0;e<a.h.length;e++)if(a.o[e]||a.j[e]&&a.j[e]>=d){c=!0;break}c?(b.stopPropagation(),a.Ua||b.preventDefault()):a.Va&&b.stopPropagation();a.ka&&(a.ka=!1,a.Ba())}
h.Ba=function(){for(var a=Date.now(),b=-1,c=0;c<this.h.length;c++)if(!this.o[c])this.j[c]&&this.j[c]<a&&I(this,c);else if(-1==b||this.o[c]>this.o[b])b=c;if(-1!=b){var d=0;for(c=0;c<this.h.length;c++)!this.o[c]&&this.M[c]&&(d=Math.max(d,this.j[c]-a));if(2>d){a=b;c=this.h[a];for(var e=0;e<this.h.length;e++)if(e!=a){var f=e;this.o[f]=0;I(this,f)}this.o[a]=0;this.j[a]=0;this.l=c;c.acceptStart()}else this.ba.schedule(d)}};function I(a,b){a.M[b]=!1;a.j[b]=0;a.o[b]||a.h[b].acceptCancel()}
function K(a,b){this.Xa=a;this.Z=b}h=K.prototype;h.getType=function(){return this.Xa};h.signalReady=function(a){var b=this.Z;if(b.l)this.acceptCancel();else{for(var c=Date.now(),d=0;d<b.h.length;d++)b.h[d]==this&&(b.o[d]=c+a,b.j[d]=0);b.ka=!0}};h.signalPending=function(a){var b=this.Z;if(b.l)this.acceptCancel();else for(var c=Date.now(),d=0;d<b.h.length;d++)b.h[d]==this&&(b.j[d]=c+a)};h.signalEnd=function(){var a=this.Z;a.l==this&&(a.l=null,a.da=!0)};
h.signalEmit=function(a,b){var c=this.Z.T[this.getType()];c&&c.fire(new ra(this.getType(),a,Date.now(),b))};h.acceptStart=function(){};h.acceptCancel=function(){};h.onTouchStart=function(){return!1};h.onTouchMove=function(){return!1};h.onTouchEnd=function(){};function ua(a,b,c){1>b&&(b=1);var d=.5+Math.min(b/33.34,.5);return a/b*d+c*(1-d)};function L(a,b,c,d){K.call(this,a,b);this.Ca=c;this.Ja=d;this.l=!1;this.sa=this.ra=this.la=this.Y=this.Ga=this.na=this.ma=this.H=this.G=this.L=this.K=0}r(L,K);h=L.prototype;h.onTouchStart=function(a){a=a.touches;return this.l&&a&&1<a.length?!0:a&&1==a.length?(this.Ga=Date.now(),this.K=a[0].clientX,this.L=a[0].clientY,!0):!1};
h.onTouchMove=function(a){var b=a.touches;if(b&&1<=b.length){var c=b[0];b=c.clientX;c=c.clientY;this.G=b;this.H=c;if(this.l)M(this,!1,!1,a);else if(a=Math.abs(b-this.K),b=Math.abs(c-this.L),this.Ca&&this.Ja)(8<=a||8<=b)&&this.signalReady(-10);else if(this.Ca)if(8<=a&&a>b)this.signalReady(-10);else{if(8<=b)return!1}else if(this.Ja)if(8<=b&&b>a)this.signalReady(-10);else{if(8<=a)return!1}else return!1;return!0}return!1};
h.onTouchEnd=function(a){var b=a.touches;b&&0==b.length&&this.l&&(this.l=!1,M(this,!1,!0,a),this.signalEnd())};h.acceptStart=function(){this.l=!0;this.ma=this.K;this.na=this.L;this.la=this.Ga;this.K=this.G;this.L=this.H;M(this,!0,!1,null)};h.acceptCancel=function(){this.l=!1};
function M(a,b,c,d){a.Y=Date.now();var e=a.Y-a.la;if(!c&&4<e||c&&16<e){var f=ua(a.G-a.ma,e,a.ra),k=ua(a.H-a.na,e,a.sa);if(!c||32<e||0!=f||0!=k)a.ra=1E-4<Math.abs(f)?f:0,a.sa=1E-4<Math.abs(k)?k:0;a.ma=a.G;a.na=a.H;a.la=a.Y}a.signalEmit({first:b,last:c,time:a.Y,deltaX:a.G-a.K,deltaY:a.H-a.L,startX:a.K,startY:a.L,lastX:a.G,lastY:a.H,velocityX:a.ra,velocityY:a.sa},d)}function va(a){L.call(this,"swipe-x",a,!0,!1)}r(va,L);function N(a,b){var c=B(a,"timer");return c.promise(1).then(function(){return c.promise(b)})};var O,wa="Webkit webkit Moz moz ms O o".split(" ");function P(a,b){for(var c in b){var d=a,e=b[c];var f=d.style;var k=c;if(k.startsWith("--"))f=k;else{O||(O=Object.create(null));var g=O[k];if(!g){g=k;if(void 0===f[k]){var l=k;l=l.charAt(0).toUpperCase()+l.slice(1);b:{for(var y=0;y<wa.length;y++){var ma=wa[y]+l;if(void 0!==f[ma]){l=ma;break b}}l=""}void 0!==f[l]&&(g=l)}O[k]=g}f=g}f&&(f.startsWith("--")?d.style.setProperty(f,e):d.style[f]=e)}}
function Q(a,b){void 0===b&&(b=a.hasAttribute("hidden"));b?a.removeAttribute("hidden"):a.setAttribute("hidden","")};function R(a,b,c){this.ta=a;this.ha=b;this.Ta=c;this.ga="backward";this.S="horizontal";this.aa=this.D=null}function S(a){return"horizontal"==a.S?a.D.offsetWidth:a.D.offsetHeight}function T(a,b,c){b="horizontal"==a.S?b:c;return"backward"==a.ga?-Math.min(b,0):Math.max(b,0)}function U(a,b,c){var d=void 0===c?"":c,e="backward"==a.ga?-b:b;return"translate("+("horizontal"==a.S?""+e+d:0)+", "+("horizontal"==a.S?0:""+e+d)+")"}
R.prototype.startSwipe=function(a){var b=a.mask,c=a.direction,d=a.orientation;this.D=a.swipeElement;this.aa=b;this.ga=c;this.S=d};R.prototype.swipeMove=function(a){xa(this,a,!1)};R.prototype.endSwipe=function(a){xa(this,a,!0)};function ya(a,b,c){var d=.75*c;P(a.D,{transform:U(a,b,"px"),transition:d+"ms transform cubic-bezier(0.15, .55, .3, 0.95)"});return N(a.ta,d)}
function za(a,b){var c=.8*b;return a.ha(function(){P(a.D,{transform:U(a,0),transition:c+"ms transform ease-in"});P(a.aa,{opacity:"",transition:c+"ms opacity ease-in"})}).then(function(){return N(a.ta,c)})}function Aa(a,b){var c=.75*(S(a)-b);return a.ha(function(){P(a.D,{transform:U(a,100,"%"),transition:c+"ms transform ease-out"});P(a.aa,{opacity:0,transition:c+"ms opacity ease-out"})}).then(function(){return N(a.ta,c)}).then(function(){return a.Ta()})}
function Ba(a,b,c){b=void 0===b?"":b;var d=c=void 0===c?"":c;P(a.D,{transform:b,transition:""});P(a.aa,{opacity:d,transition:""})}function Ca(a,b,c,d,e){var f=T(a,22.5*b+d,22.5*c+e),k=T(a,b,c),g=.5*S(a);return f<g&&.65>k?ya(a,f,k).then(function(){return za(a,f)}):Aa(a,f)}function xa(a,b,c){var d=b.deltaX,e=b.deltaY,f=b.velocityX,k=b.velocityY;a.ha(function(){if(c)Ca(a,f,k,d,e).then(function(){Ba(a)});else{var g=T(a,d,e),l=g/S(a),y=Math.max(0,1-l);Ba(a,U(a,g,"px"),y)}})};function Da(a,b){if(void 0!==E)var c=E;else{try{var d=b.ownerDocument,e=d.createElement("div"),f=d.createElement("div");e.appendChild(f);c=e.querySelector(":scope div")===f}catch(g){c=!1}c=E=c}c?c=b.querySelector(ja(":scope")):(b.classList.add("i-amphtml-scoped"),c=ja(".i-amphtml-scoped"),c=b.querySelectorAll(c),b.classList.remove("i-amphtml-scoped"),c=void 0===c[0]?null:c[0]);if(c){var k=(a.win.getComputedStyle(b)||Object.create(null))["overflow-y"];"scroll"!=k&&"auto"!=k?x().error("AMP-SIDEBAR",
"for 'autoscroll', 'nav [toolbar]' element must be set to overflow\n        'scroll' or 'auto' for 'autoscroll' to work."):C(a,"viewport").animateScrollWithinParent(c,b,"center",0)}};function Ea(a,b){this.za=b;this.B=a;this.ea=b.getAmpDoc();this.Wa=this.B.getAttribute("toolbar");this.V=null;this.C=void 0;this.ca=!1;this.B.classList.add("amp-sidebar-toolbar-target-hidden");this.V=this.B.cloneNode(!0);a=this.B.getAttribute("toolbar-target");var c=this.B;a=x().assert(a,'"toolbar-target" is required',c,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0);if(c=this.ea.getElementById(a))this.C=c,this.V.classList.add("i-amphtml-toolbar"),Q(this.C,!1);else throw x().createError("Could not find the toolbar-target element with an id: "+
a);}Ea.prototype.onLayoutChange=function(){this.ea.win.matchMedia(this.Wa).matches?Fa(this):Ga(this)};function Fa(a){a.ca?ia||(ia=Promise.resolve(void 0)):a.za.mutateElement(function(){a.C&&(Q(a.C,!0),a.C.contains(a.V)||a.C.appendChild(a.V),a.B.classList.add("amp-sidebar-toolbar-target-shown"),a.B.classList.remove("amp-sidebar-toolbar-target-hidden"),a.ca=!0,Da(a.ea,a.V))})}
function Ga(a){a.ca&&a.za.mutateElement(function(){a.C&&(Q(a.C,!1),a.B.classList.add("amp-sidebar-toolbar-target-hidden"),a.B.classList.remove("amp-sidebar-toolbar-target-shown"),a.ca=!1)})};function Ha(a,b){function c(){d=0;var k=100-(a.Date.now()-e);if(0<k)d=a.setTimeout(c,k);else{var g=f;f=null;b.apply(null,g)}}var d=0,e=0,f=null;return function(k){for(var g=[],l=0;l<arguments.length;++l)g[l-0]=arguments[l];e=a.Date.now();f=g;d||(d=a.setTimeout(c,100))}};function Ia(a){var b=a.indexOf("#");return-1==b?a:a.substring(0,b)};var V=[];function Ja(a){var b=[];a=Ka(a);for(var c={},d=0;d<a.length;c={O:c.O},d++)c.O=a[d],c.O.parentNode&&t(c.O.parentNode.children).filter(function(e){return function(f){return f!=e.O}}(c)).forEach(function(e){return b.push(e)});return b}function Ka(a){for(var b=[],c=a;c;c=c.parentNode||c.host)b.push(c);return b}
function La(a){for(var b=[];a;){a=la(a);var c=a.querySelectorAll("a[href],area[href],button,details summary,iframe,input,select,textarea,[contenteditable],[draggable],[tabindex]");Array.prototype.push.apply(b,c);a=a.host}return b}
function Ma(a){V.every(function(g){return g.element!==a});ka(a);var b=Ja(a),c=Ka(a).filter(function(g){return g.nodeType==Node.ELEMENT_NODE}),d=La(a),e=d.filter(function(g){return a.contains(g)&&void 0!==g.__AMP_MODAL_SAVED_TAB_INDEX}),f=d.filter(function(g){return!a.contains(g)&&void 0===g.__AMP_MODAL_SAVED_TAB_INDEX}),k=b.concat(c).map(function(g){return{element:g,prevValue:g.getAttribute("aria-hidden")}});c.forEach(function(g){return g.removeAttribute("aria-hidden")});b.forEach(function(g){return g.setAttribute("aria-hidden",
"true")});f.forEach(function(g){g.__AMP_MODAL_SAVED_TAB_INDEX=g.getAttribute("tabindex");g.setAttribute("tabindex","-1")});e.forEach(function(g){var l=g.__AMP_MODAL_SAVED_TAB_INDEX;null===l?g.removeAttribute("tabindex"):g.setAttribute("tabindex",l)});V.push({element:a,hiddenElementInfos:k,focusableExternalElements:f,focusableInternalElements:e})}
function Na(a){var b=V.pop(),c=b.hiddenElementInfos,d=b.focusableExternalElements;b=b.focusableInternalElements;ka(a);c.forEach(function(e){var f=e.element,k=e.prevValue;null===k?f.removeAttribute("aria-hidden"):f.setAttribute("aria-hidden",k)});b.forEach(function(e){e.setAttribute("tabindex","-1")});d.forEach(function(e){var f=e.__AMP_MODAL_SAVED_TAB_INDEX;null===f?e.removeAttribute("tabindex"):e.setAttribute("tabindex",f);e.__AMP_MODAL_SAVED_TAB_INDEX=void 0})};function W(a){var b=AMP.BaseElement.call(this,a)||this;b.N=null;b.W=null;b.Ia=null;b.$=null;b.F=b.win.document;b.Ma=b.F.documentElement;b.J=null;b.qa=[];var c=A(b.win,"platform");b.R=c.isIos();b.Oa=c.isSafari();b.X=-1;b.ua=!1;b.P=null;b.ja=null;b.Da=0;b.I=!1;b.Ea=null;b.pa=new R(b.win,function(d){return b.mutateElement(d)},function(){return X(b,!0,3)});b.fa=!1;b.Aa=!1;return b}r(W,AMP.BaseElement);
W.prototype.buildCallback=function(){var a=this,b=this.element;b.classList.add("i-amphtml-overlay");b.classList.add("i-amphtml-scrollable");this.J=b.getAttribute("side");this.Aa=b.hasAttribute("data-disable-swipe-close");this.N=this.getViewport();this.W=fa(b,"action");this.element.parentNode!=this.element.ownerDocument.body&&this.element.parentNode!=this.getAmpDoc().getBody()&&this.user().warn("amp-sidebar toolbar","amp-sidebar toolbar is recommended to be a direct child of the <body> element to preserve a logical DOM order.");
"left"!=this.J&&"right"!=this.J&&(this.J=Oa(this,oa(this.F)?"right":"left"),b.setAttribute("side",this.J));Pa(this);b.addEventListener("amp:dom-update",function(){Pa(a)});this.getAmpDoc().whenReady().then(function(){var c=t(b.querySelectorAll("nav[toolbar]"));c.forEach(function(d){try{a.qa.push(new Ea(d,a))}catch(e){a.user().error("amp-sidebar toolbar","Failed to instantiate toolbar",e)}});if(c.length)a.getViewport().onResize(Ha(a.win,function(){a.qa.forEach(function(d){d.onLayoutChange()})}))});
this.R&&Qa(this);b.hasAttribute("role")||b.setAttribute("role","menu");b.tabIndex=-1;this.Ma.addEventListener("keydown",function(c){"Escape"==c.key&&X(a,!1,3)&&c.preventDefault()});this.P=Ra(this);this.P||(this.P=this.createScreenReaderCloseButton(),b.insertBefore(this.P,this.element.firstChild));b.appendChild(this.createScreenReaderCloseButton());this.registerDefaultAction(function(c){Sa(a,c.trust,c.caller)},"open");this.registerAction("close",function(c){X(a,!1,c.trust)});this.registerAction("toggle",
function(c){var d=c.trust;c=c.caller;a.I?X(a,!1,d):Sa(a,d,c)});this.W.addToAllowlist("amp-sidebar",["open","close","toggle"],["email"]);b.addEventListener("click",function(c){if((c=F(c.target,"A"))&&c.href){var d=fa(b,"url").parse(c.href),e=a.getAmpDoc().getUrl();Ia(c.href)==Ia(e)&&d.hash&&X(a,!1,3)}},!0);Ta(this,this.element)};function Pa(a){if(!a.Ea){var b=a.element.querySelector("amp-nested-menu");b&&(A(a.win,"extensions").installExtensionForDoc(a.getAmpDoc(),"amp-nested-menu"),a.Ea=b)}}
function Ra(a){for(var b=a.element.querySelectorAll("[on]"),c=0;c<b.length;c++){var d=b[c],e=a.W.hasResolvableActionForTarget(d,"tap",a.element,d.parentElement),f=F(d,"[toolbar]");if(e&&!f)return d}return null}
W.prototype.createScreenReaderCloseButton=function(){var a=this,b=this.element.getAttribute("data-close-button-aria-label")||"Close the sidebar",c=this.F.createElement("button");c.textContent=b;c.classList.add("i-amphtml-screen-reader");c.tabIndex=-1;c.addEventListener("click",function(){X(a,!1,3)});return c};W.prototype.onLayoutMeasure=function(){var a=this;this.getAmpDoc().whenReady().then(function(){a.qa.forEach(function(b){b.onLayoutChange()})})};
function Y(a,b,c){function d(){a.Ia===b&&a.mutateElement(b)}a.Ia=b;c?B(a.win,"timer").delay(d,c):d()}
function Ua(a,b){Q(a.element,!0);Q(Z(a),!0);a.N.addToFixedLayer(a.element,!0);a.mutateElement(function(){Ma(a.element)});a.R&&a.Oa&&Va(a);a.element.scrollTop=1;a.element.setAttribute("open","");Z(a).setAttribute("open","");Y(a,function(){var c=a.getRealChildren(),d=C(a.element,"owners");d.scheduleLayout(a.element,c);d.scheduleResume(a.element,c);if(!a.R||!C(a.element,"viewer").isEmbedded())try{a.P.focus()}catch(e){}Wa(a,"sidebarOpen",b);a.element.setAttribute("i-amphtml-sidebar-opened","");Z(a).setAttribute("i-amphtml-sidebar-opened",
"")},350);Da(a.getAmpDoc(),a.element)}function Xa(a,b,c){Z(a).removeAttribute("open");Z(a).removeAttribute("i-amphtml-sidebar-opened");a.mutateElement(function(){Na(a.element)});a.element.removeAttribute("open");a.element.removeAttribute("i-amphtml-sidebar-opened");Y(a,function(){Q(a.element,!1);Q(Z(a),!1);C(a.element,"owners").schedulePause(a.element,a.getRealChildren());Wa(a,"sidebarClose",c)},b?0:350)}
function Sa(a,b,c){a.I||(a.I=!0,a.N.enterOverlayMode(),Y(a,function(){return Ua(a,b)}),C(a.getAmpDoc(),"history").push(function(){a.R?X(a,!0,b):X(a,!1,b)}).then(function(d){a.X=d}),c&&(a.ja=c,a.Da=a.N.getScrollTop()))}
function X(a,b,c){if(!a.I)return!1;a.I=!1;a.N.leaveOverlayMode();var d=a.Da==a.N.getScrollTop(),e=a.element.contains(a.F.activeElement);Y(a,function(){return Xa(a,b,c)});b&&(Q(a.element,!1),Q(Z(a),!1));-1!=a.X&&(C(a.getAmpDoc(),"history").pop(a.X),a.X=-1);if(a.ja&&e&&d&&(!a.R||!C(a.element,"viewer").isEmbedded()))try{a.ja.focus()}catch(f){}return!0}
function Ta(a,b){if(!a.Aa)ta(b).onGesture(va,function(c){var d=c.data,e=c.event;if(d.first)a.pa.startSwipe({swipeElement:a.element,mask:a.$,direction:"left"==a.J?"backward":"forward",orientation:"horizontal"});else if(d.last)a.fa&&a.pa.endSwipe(d),a.fa=!1;else{var f;if(f=e&&e.target)e=e.target,f=!("input"===e.nodeName.toLowerCase()&&"range"===e.getAttribute("type"));f&&(a.fa=!0,a.pa.swipeMove(d))}})}function Oa(a,b){return F(a.element,"amp-story")?"left"==b?"right":"left":b}
function Z(a){if(!a.$){var b=a.F.createElement("div");b.classList.add("i-amphtml-sidebar-mask");b.addEventListener("click",function(){X(a,!1,3)});a.getAmpDoc().getBody().appendChild(b);b.addEventListener("touchmove",function(c){c.preventDefault()});Ta(a,b);a.$=b}return a.$}
function Qa(a){a.element.addEventListener("scroll",function(b){a.I&&(1>a.element.scrollTop?(a.element.scrollTop=1,b.preventDefault()):a.element.scrollHeight==a.element.scrollTop+a.element.offsetHeight&&(--a.element.scrollTop,b.preventDefault()))})}function Va(a){if(!a.ua){var b=a.F.createElement("div");P(b,{height:"54px",width:"100%","background-color":"transparent"});a.element.appendChild(b);a.ua=!0}}
function Wa(a,b,c){var d=a.win;var e="amp-sidebar toolbar."+b;var f={};var k={detail:f};Object.assign(k,void 0);"function"==typeof d.CustomEvent?e=new d.CustomEvent(e,k):(d=d.document.createEvent("CustomEvent"),d.initCustomEvent(e,!!k.bubbles,!!k.cancelable,f),e=d);a.W.trigger(a.element,b,e,c)}(function(a){a.registerElement("amp-sidebar",W,"amp-sidebar{--story-page-vh:1vh;position:fixed!important;top:0;max-height:100vh!important;height:100vh;max-width:80vw;background-color:#efefef;min-width:45px!important;outline:none;overflow-x:hidden!important;overflow-y:auto!important;z-index:2147483647;-webkit-overflow-scrolling:touch;will-change:transform}amp-sidebar[side=left]{left:0!important;transform:translateX(-100%);animation-name:i-amphtml-sidebar-slide-out-left}amp-sidebar[side=left][open]{animation-name:i-amphtml-sidebar-slide-in-left}amp-sidebar[side=right]{right:0!important;transform:translateX(100%);animation-name:i-amphtml-sidebar-slide-out-right}amp-sidebar[side=right][open]{animation-name:i-amphtml-sidebar-slide-in-right}amp-sidebar[side][i-amphtml-sidebar-opened]{transform:none;animation:none}.i-amphtml-sidebar-mask,amp-sidebar[side]{animation-duration:233ms;animation-timing-function:cubic-bezier(0,0,.21,1);animation-fill-mode:forwards}.i-amphtml-toolbar>ol,.i-amphtml-toolbar>ul{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:wrap;flex-wrap:wrap;overflow:auto;list-style-type:none;padding:0;margin:0}.i-amphtml-sidebar-mask{position:fixed!important;top:0!important;left:0!important;width:100vw!important;height:100vh!important;background-image:none!important;background-color:rgba(0,0,0,0.5);animation-name:i-amphtml-sidebar-mask-fade-out;z-index:2147483646}.i-amphtml-sidebar-mask[open]{animation-name:i-amphtml-sidebar-mask-fade-in}.i-amphtml-sidebar-mask[i-amphtml-sidebar-opened]{animation:none}@keyframes i-amphtml-sidebar-slide-in-left{0%{transform:translateX(-100%)}to{transform:translateX(0)}}@keyframes i-amphtml-sidebar-slide-out-left{0%{transform:translateX(0)}to{transform:translateX(-100%)}}@keyframes i-amphtml-sidebar-slide-in-right{0%{transform:translateX(100%)}to{transform:translateX(0)}}@keyframes i-amphtml-sidebar-slide-out-right{0%{transform:translateX(0)}to{transform:translateX(100%)}}@keyframes i-amphtml-sidebar-mask-fade-in{0%{opacity:0}to{opacity:1}}@keyframes i-amphtml-sidebar-mask-fade-out{0%{opacity:1}to{opacity:0}}\n/*# sourceURL=/extensions/amp-sidebar/0.1/amp-sidebar.css*/")})(self.AMP);
})});

//# sourceMappingURL=amp-sidebar-0.1.js.map
